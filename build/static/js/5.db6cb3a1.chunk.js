(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1024:function(e,a){},1026:function(e,a){},1036:function(e,a){},1038:function(e,a){},1063:function(e,a){},1065:function(e,a){},1066:function(e,a){},1071:function(e,a){},1073:function(e,a){},1080:function(e,a){},1082:function(e,a){},1100:function(e,a){},1103:function(e,a){},1119:function(e,a){},1122:function(e,a){},1130:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(76),s=t(163),l=t(74),i=t.n(l),o=t(347),m=t(104),d=t(165),u=t(16),p=t(17),h=t(25),E=t(19),g=t(18),f=t(48),b=t.n(f),v=t(24),N=t(247),w=t(37),y=t.n(w),k=t(131),I=t(35),C=t(246),D=t.n(C),O=t(133),x=t.n(O),S=t(362),j=t(287),A=t(288),T=t(289),P=t(122),B=t(225),U=t(226),M=t(227),L=t(228),F=t(78),H=function(e){Object(E.a)(t,e);var a=Object(g.a)(t);function t(){var e;return Object(u.a)(this,t),(e=a.call(this)).handleClickOpenDialog=function(a,t){e.setState({modal:!e.state.modal,req:t,rowIndex:a})},e.handleClickCloseDialog=function(){e.setState({modal:!e.state.modal,req:!1,rowIndex:0})},e.state={rowIndex:0,req:!1,modal:!1},e}return Object(p.a)(t,[{key:"renderDialog",value:function(){var e=this.props.messagesData,a=this.state,t=a.modal,n=a.req;if(t)return r.a.createElement(S.a,{fade:!1,isOpen:t,toggle:this.handleClickCloseDialog},r.a.createElement(j.a,{toggle:this.handleClickCloseDialog},n?"Request":"Response"),r.a.createElement(A.a,null,r.a.createElement(D.a,{src:n?e[this.state.rowIndex].request:e[this.state.rowIndex].response})),r.a.createElement(T.a,null,r.a.createElement(P.a,{color:"link",onClick:this.handleClickCloseDialog},"Cancel"),r.a.createElement(P.a,{color:"primary",onClick:this.handleClickCloseDialog},"Ok")))}},{key:"render",value:function(){var e=this.props,a=e.usersData,t=e.match;return r.a.createElement(B.a,null,r.a.createElement(U.a,{md:"12"},r.a.createElement(M.a,{className:"main-card mb-3"},r.a.createElement(L.a,null,r.a.createElement(F.a,{className:"-striped -highlight",columns:[{columns:[{Header:"Full Name",id:"row",accessor:function(e){return e},Cell:function(e){return r.a.createElement("div",null,r.a.createElement(I.b,{to:t.path+"/".concat(e.value.accountID)},r.a.createElement("div",{className:"widget-content p-0"},r.a.createElement("div",{className:"widget-content-wrapper"},r.a.createElement("div",{className:"widget-content-left mr-3"},r.a.createElement("div",{className:"widget-content-left"},r.a.createElement("img",{alt:"",className:"rounded-circle",src:void 0!==e.value.avatar?"https://wssdev.nexustls.com/files/file/".concat(e.value.avatar,"/medium"):x.a,width:52}))),r.a.createElement("div",{className:"widget-content-left flex2"},r.a.createElement("div",{className:"widget-heading"},e.value.firstName," ",e.value.lastName))))))}},{Header:"User Name",accessor:"username"},{Header:"Account ID",accessor:"accountID"}]}],data:a,defaultPageSize:5})))))}}]),t}(r.a.Component),G=Object(c.f)(H),z=t(290),q=t(296),R=t(298),Z=t(33),_=function(e){Object(E.a)(t,e);var a=Object(g.a)(t);function t(e){var n;return Object(u.a)(this,t),(n=a.call(this,e)).handleChangeApplicationSearch=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.handleChange=function(e){var a=e.target.value,t=e.target.name;0===a.length?n.setState({params:{type:"",search:""}}):n.setState({params:{type:t,search:a}})},n.onBlurUserInput=function(e){var a=n.state.searchUserList,t=n.state.searchUserList.findIndex(function(a){return a.type===e.target.name});-1===t?a.push({type:e.target.name,search:e.target.value}):a[t]={type:e.target.name,search:e.target.value},a=a.filter(function(e){return""!==e.search}),n.setState({searchUserList:a})},n.state={searchUserList:[],firstname:"",lastname:"",phoneNumber:"",params:{search:"",type:""}},n.handleOnSubmit=n.handleOnSubmit.bind(Object(h.a)(n)),n}return Object(p.a)(t,[{key:"handleOnSubmit",value:function(){var e=Object(m.a)(i.a.mark(function e(a){var t,n,r,c,s,l,m,d,u,p,h;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.searchUserList,n=[],r=this.state,c=r.firstname,s=r.lastname,l=r.phoneNumber,m={name:{firstName:c,lastName:s},phone:l},""===c&&""===s&&""===l){e.next=12;break}return e.next=8,Z.c.getApplicationsByName(m);case 8:if((d=e.sent).status=200){u=Object(o.a)(d.data.applications);try{for(u.s();!(p=u.n()).done;)h=p.value,n.push({type:"accountID",search:h.accountID})}catch(a){u.e(a)}finally{u.f()}n=n.concat(t),this.props.fetchUsers(n)}e.next=13;break;case 12:t.length>0&&this.props.fetchUsers(t);case 13:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}()},{key:"renderUserTable",value:function(){var e=this.props,a=e.pending,t=e.error,n=e.users;return a?r.a.createElement("div",{className:"text-center"},r.a.createElement(y.a,{type:"ball-scale"})):t?r.a.createElement("div",{className:"widget-content"},r.a.createElement("div",{className:"widget-content-wrapper"},r.a.createElement("div",{className:"widget-content-right ml-0 mr-3"},r.a.createElement("div",{className:"widget-subheading"},t)))):0===n.length?r.a.createElement("div",{className:"widget-content"},r.a.createElement("div",{className:"widget-content-wrapper"},r.a.createElement("div",{className:"widget-content-right ml-0 mr-3"},r.a.createElement("div",{className:"widget-subheading"},"There are no users")))):r.a.createElement(G,{usersData:n})}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(b.a,{component:"div",transitionAppear:!0,transitionAppearTimeout:0,transitionEnter:!1,transitionLeave:!1,transitionName:"TabsAnimation"},r.a.createElement(N.a,{heading:"User Manager",icon:"pe-7s-user icon-gradient bg-night-fade",subheading:""}),r.a.createElement(U.a,{md:"12"},r.a.createElement(M.a,{className:"main-card mb-3"},r.a.createElement(z.a,{className:"card-header-tab"},"Advanced search"),r.a.createElement(L.a,null,r.a.createElement(B.a,null,r.a.createElement(U.a,{md:2},r.a.createElement(q.a,null,r.a.createElement(R.a,{id:"usernameID",name:"username",onBlur:this.onBlurUserInput,onChange:this.handleOnChange,placeholder:"UserName",type:"text"})),r.a.createElement(q.a,null,r.a.createElement(R.a,{id:"phoneID",name:"phone",onBlur:this.onBlurUserInput,onChange:this.handleOnChange,placeholder:"Phone Number",type:"text"})),r.a.createElement(q.a,null,r.a.createElement(R.a,{id:"accountID",name:"accountID",onBlur:this.onBlurUserInput,onChange:this.handleOnChange,placeholder:"Account ID",type:"text"})),r.a.createElement(q.a,null,r.a.createElement(R.a,{id:"emailID",name:"email",onBlur:this.onBlurUserInput,onChange:this.handleOnChange,placeholder:"Email",type:"text"}))),r.a.createElement(U.a,{md:2},r.a.createElement(q.a,null,r.a.createElement(R.a,{id:"firstNameID",name:"firstname",onBlur:this.onBlurUserInput,onChange:this.handleChangeApplicationSearch,placeholder:"First Name",type:"text"})),r.a.createElement(q.a,null,r.a.createElement(R.a,{id:"lastNameID",name:"lastname",onBlur:this.onBlurUserInput,onChange:this.handleChangeApplicationSearch,placeholder:"Last Name",type:"text"})),r.a.createElement(q.a,null,r.a.createElement(R.a,{id:"passportID",name:"passportID",onChange:this.handleChangeApplicationSearch,placeholder:"Passport ID",type:"text"})),r.a.createElement(P.a,{className:"border-0 btn-pill btn-wide  btn-transition active",color:"alternate",onClick:this.handleOnSubmit,outline:!0},"Search"))),this.renderUserTable())))))}}]),t}(n.Component),J=Object(c.f)(_),V=Object(v.b)(function(e){return{users:e.user.users,search:e.settings.search,pending:e.user.pending,error:e.user.error,profile:e.auth.profile,session:e.auth.session}},function(e){return{fetchUsers:function(a){return e(Object(k.b)(a))}}})(J),Q=t(235),W=t.n(Q),K=t(145),X=t.n(K),Y=t(291),$=t(292),ee=t(329),ae=t(1017),te=t.n(ae),ne=t(14),re=t(27),ce=t(9);function se(e){return{type:ce.j,error:e}}function le(e){return function(a){a({type:ce.k}),Z.e.getAccountSessions(e).then(function(e){var t;void 0!==e.data.sessions?a((t=e.data,{type:ce.l,sessions:t.sessions,blockList:t.blocklist})):void 0!==e.data.error&&a(se(e.data.error))}).catch(function(e){console.log(e),a(se(""))})}}var ie=t(3),oe=t.n(ie),me=t(1132),de=t(1133),ue=t(1129),pe=t(1134),he=function(e){Object(E.a)(t,e);var a=Object(g.a)(t);function t(){return Object(u.a)(this,t),a.apply(this,arguments)}return Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(me.a,{animate:!0,attributionControl:!0,center:this.props.position,doubleClickZoom:!0,dragging:!0,easeLinearity:.35,maxZoom:10,scrollWheelZoom:!0,zoom:6,zoomControl:!0},r.a.createElement(de.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),r.a.createElement(ue.a,{position:this.props.position},r.a.createElement(pe.a,null,"Popup for any custom information.")))}}]),t}(r.a.Component),Ee=function(e){Object(E.a)(t,e);var a=Object(g.a)(t);function t(){var e;return Object(u.a)(this,t),(e=a.call(this)).handleClickOpenDialog=function(a){e.setState({modalInfo:!e.state.modalInfo,rowIndex:a})},e.handleClickOpenMap=function(a){e.setState({loadingMap:!0,position:null}),fetch("http://api.ipstack.com/".concat(a,"?access_key=98b92bffbfd727524f6027db62913163")).then(function(e){return e.json()}).then(function(a){if(a.latitude){var t=[];t.push(a.latitude),t.push(a.longitude),e.setState({position:t})}e.setState({loadingMap:!1})}).catch(function(a){e.setState({loadingMap:!1})}),e.setState({modalMap:!e.state.modalMap,userIP:a})},e.handleClickCloseDialog=function(){e.setState({modalInfo:!e.state.modalInfo,rowIndex:0})},e.handleClickCloseMap=function(){e.setState({modalMap:!e.state.modalMap,userIP:null})},e.handleSetTracing=function(a,t){var n=e.props.sessions[a].meta.sessionID;Z.e.setTracer({sessionID:n,isTracing:!t}).then(function(n){if(200===n.status&&n.data){var r={index:a,isTracing:!t};e.props.onChangeTracing(r),Object(re.c)("success",{transition:re.a,closeButton:!0,autoClose:5e3,position:"bottom-right",type:"success"})}}).catch(function(e){Object(re.c)(e.message,{transition:re.a,closeButton:!0,autoClose:5e3,position:"bottom-right",type:"error"})})},e.handleSessionSuspended=function(a,t){var n=e.props.sessions[a].meta.sessionID;Z.e.suspendSession({sessionID:n,isSuspended:!t}).then(function(n){200===n.status&&(e.props.onChangeSuspended({index:a,isSuspended:!t}),Object(re.c)("Suspended",{transition:re.a,closeButton:!0,autoClose:5e3,position:"bottom-right",type:"success"}))}).catch(function(e){Object(re.c)(e.message,{transition:re.a,closeButton:!0,autoClose:5e3,position:"bottom-right",type:"error"})})},e.handleRemoveSession=function(a){Z.e.removeSession({sessionID:a}).then(function(t){200===t.status&&(e.props.sessionDelete(a),Object(re.c)("success",{transition:re.a,closeButton:!0,autoClose:5e3,position:"bottom-right",type:"success"}))}).catch(function(e){Object(re.c)(e.message,{transition:re.a,closeButton:!0,autoClose:5e3,position:"bottom-right",type:"error"})})},e.goToTracer=function(e){var a=new Date;a.setDate(a.getDate()-30);var t="?q="+e,n="&start="+a.toISOString(),r="&end="+(new Date).toISOString();ne.d.push("/tracer-manager/tracers"+t+n+r)},e.state={rowIndex:0,req:!1,modalMap:!1,modalInfo:!1,userIP:"",center:null,position:null,loadingMap:!1},e.handleClickCloseDialog=e.handleClickCloseDialog.bind(Object(h.a)(e)),e.handleSessionSuspended=e.handleSessionSuspended.bind(Object(h.a)(e)),e}return Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.accountID;(0,e.fetchGetAccountSessions)({accountID:a})}},{key:"renderInfoDialog",value:function(){var e=this.props,a=e.sessions,t=e.className,n=this.state,c=n.modalInfo,s=n.rowIndex;if(a&&c)return r.a.createElement(S.a,{className:t,fade:!1,isOpen:c},r.a.createElement(j.a,{toggle:this.handleClickCloseDialog},"Session Info"),r.a.createElement(A.a,null,r.a.createElement(D.a,{src:a[s]})),r.a.createElement(T.a,null,r.a.createElement(P.a,{color:"link",onClick:this.handleClickCloseDialog},"Cancel"),r.a.createElement(P.a,{color:"primary",onClick:this.handleClickCloseDialog},"Ok")))}},{key:"renderMap",value:function(){var e=this.state,a=e.modalMap,t=e.position,n=e.loadingMap;if(a)return r.a.createElement(S.a,{fade:!1,isOpen:a,size:"lg",toggle:this.handleClickOpenMap},r.a.createElement(j.a,{toggle:this.handleClickCloseMap},"Location"),r.a.createElement(A.a,null,n?r.a.createElement("div",{className:" d-flex justify-content-center align-items-center leaflet-container"},r.a.createElement(y.a,{type:"ball-spin-fade-loader"})):r.a.createElement(r.a.Fragment,null,t?r.a.createElement(he,{position:t}):r.a.createElement("div",{className:"dropdown-menu-header"},r.a.createElement("div",{className:"dropdown-menu-header-inner bg-primary"},r.a.createElement("div",{className:"menu-header-content"},r.a.createElement("div",null,r.a.createElement("h5",{className:"menu-header-title"},"Private IP address"))))))),r.a.createElement(T.a,null,r.a.createElement(P.a,{color:"link",onClick:this.handleClickCloseMap},"Cancel"),r.a.createElement(P.a,{color:"primary",onClick:this.handleClickCloseMap},"Ok")))}},{key:"render",value:function(){var e=this,a=this.props,t=a.sessions,n=a.pending,c=a.error;return n?r.a.createElement("div",{className:"text-center"},r.a.createElement(y.a,{type:"ball-scale"})):c?r.a.createElement("div",{className:"widget-content"},r.a.createElement("div",{className:"widget-content-wrapper"},r.a.createElement("div",{className:"widget-content-right ml-0 mr-3"},r.a.createElement("div",{className:"widget-subheading"},c)))):0===t.length?r.a.createElement("div",{className:"widget-content"},r.a.createElement("div",{className:"widget-content-wrapper"},r.a.createElement("div",{className:"widget-content-right ml-0 mr-3"},r.a.createElement("div",{className:"widget-subheading"},"There are no sessions")))):r.a.createElement(L.a,null,r.a.createElement(F.a,{className:"-striped -highlight",columns:[{columns:[{Header:"Device Name",accessor:"meta.deviceName"},{Header:"Platform",accessor:"meta.platform"},{Header:"IP",accessor:"meta.ip"},{Header:"Session ID",accessor:"meta.sessionID"},{Header:"Set Tracing",Cell:function(a){return r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"switch has-switch mr-2 mb-2 mr-2","data-off-label":"OFF","data-on-label":"ON",onClick:function(){return e.handleSetTracing(a.index,t[a.index].isTracing)}},r.a.createElement("div",{className:oe()("switch-animate",{"switch-on":t[a.index].isTracing,"switch-off":!t[a.index].isTracing})},r.a.createElement("input",{type:"checkbox"}),r.a.createElement("span",{className:"switch-left bg-danger"},"ON"),r.a.createElement("label",null,"\xa0"),r.a.createElement("span",{className:"switch-right bg-danger"},"OFF"))))}},{Header:"Suspend Session",Cell:function(a){return r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"switch has-switch mr-2 mb-2 mr-2","data-off-label":"OFF","data-on-label":"ON",onClick:function(){return e.handleSessionSuspended(a.index,t[a.index].isSuspended)}},r.a.createElement("div",{className:oe()("switch-animate",{"switch-on":t[a.index].isSuspended,"switch-off":!t[a.index].isSuspended})},r.a.createElement("input",{type:"checkbox"}),r.a.createElement("span",{className:"switch-left bg-danger"},"ON"),r.a.createElement("label",null,"\xa0"),r.a.createElement("span",{className:"switch-right bg-danger"},"OFF"))))}},{Header:"Remove Session",Cell:function(a){return r.a.createElement("div",{className:"d-block w-100 text-center"},r.a.createElement(P.a,{className:"mb-2 mr-2 btn-icon",color:"warning",onClick:function(){return e.handleRemoveSession(t[a.index].meta.sessionID)}},r.a.createElement("i",{className:"pe-7s-trash btn-icon-wrapper"}),"Remove"))}},{Header:"Detail Info",Cell:function(a){return r.a.createElement("div",{className:"d-block w-100 text-center"},r.a.createElement(P.a,{className:"mb-2 mr-2 btn-icon",color:"danger",onClick:function(){return e.handleClickOpenDialog(a.index)}},r.a.createElement("i",{className:"pe-7s-science btn-icon-wrapper"}),"Info"))}},{Header:"Location",accessor:"ip",Cell:function(a){return r.a.createElement("div",{className:"d-block w-100 text-center"},r.a.createElement(P.a,{className:"mb-2 mr-2 btn-icon",color:"danger",onClick:function(){return e.handleClickOpenMap(t[a.index].meta.ip)}},r.a.createElement("i",{className:"pe-7s-science btn-icon-wrapper"}),"Location"))}},{Header:"Tracer",accessor:"ip",Cell:function(a){return r.a.createElement("div",{className:"d-block w-100 text-center"},r.a.createElement(P.a,{className:"mb-2 mr-2 btn-icon",color:"danger",onClick:function(){return e.goToTracer(t[a.index].meta.sessionID)}},r.a.createElement("i",{className:"pe-7s-science btn-icon-wrapper"}),"Tracer"))}}]}],data:t,defaultPageSize:5,loading:n}),this.renderMap(),this.renderInfoDialog())}}]),t}(r.a.Component),ge=Object(v.b)(function(e){return{pending:e.session.pending,sessions:e.session.sessions}},function(e){return{fetchGetAccountSessions:function(a){return e(le(a))},onChangeTracing:function(a){return e(function(e){return{type:ce.O,params:e}}(a))},onChangeSuspended:function(a){return e(function(e){return{type:ce.N,params:e}}(a))},sessionDelete:function(a){return e(function(e){return{type:ce.L,sessionID:e}}(a))}}})(Ee),fe=t(166),be=t(348),ve=function(e){Object(E.a)(t,e);var a=Object(g.a)(t);function t(){var e;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).state={password:"",loading:!1},e.handleChangePassword=function(a){e.setState({password:a.target.value})},e.handleGeneratePassword=function(a){e.setState({password:te.a.generate({length:10,numbers:!0})})},e.handleSetPassword=function(a){var t=e.props.userInfo,n=e.state.password;e.setState({loading:!0});var r={password:n,accountID:t.accountID};Z.g.setPassword(r).then(function(a){200===a.status&&(e.setState({loading:!1,password:""}),Object(re.c)("success",{transition:re.a,closeButton:!0,autoClose:5e3,position:"bottom-right",type:"success"}))}).catch(function(a){e.setState({loading:!1,password:""}),Object(re.c)(a.message,{transition:re.a,closeButton:!0,autoClose:5e3,position:"bottom-right",type:"error"})})},e}return Object(p.a)(t,[{key:"renderPhones",value:function(){var e=this.props.userInfo;return e.phones&&0!==e.phones.length?r.a.createElement(Y.a,{flush:!0},e.phones.map(function(e,a){return r.a.createElement($.a,{key:a},r.a.createElement("div",{className:"widget-content p-0"},r.a.createElement("div",{className:"widget-content-wrapper"},r.a.createElement("div",{className:"widget-content-left"},r.a.createElement("div",{className:"widget-heading"},r.a.createElement("b",{className:"text-dark"},"Number: "),e.number),r.a.createElement("div",{className:"widget-subheading"},r.a.createElement("b",{className:"text-dark"},"Type: "),e.type)))))})):r.a.createElement("div",{className:"dropdown-menu-header"},r.a.createElement("div",{className:"dropdown-menu-header-inner bg-primary"},r.a.createElement("div",{className:"menu-header-content"},r.a.createElement("div",{className:"widget-subheading"},"There are no phones available"))))}},{key:"renderEmails",value:function(){var e=this.props.userInfo;return e.emails&&0!==e.emails.length?r.a.createElement(Y.a,{flush:!0},e.emails.map(function(e,a){return r.a.createElement($.a,null,r.a.createElement("div",{className:"widget-content p-0"},r.a.createElement("div",{className:"widget-content-wrapper"},r.a.createElement("div",{className:"widget-content-left"},r.a.createElement("div",{className:"widget-heading"},r.a.createElement("b",{className:"text-dark"},"Email: "),e.email),r.a.createElement("div",{className:"widget-subheading"},r.a.createElement("b",{className:"text-dark"},"Type: "),e.type)))))})):r.a.createElement("div",{className:"dropdown-menu-header"},r.a.createElement("div",{className:"dropdown-menu-header-inner bg-primary"},r.a.createElement("div",{className:"menu-header-content"},r.a.createElement("div",null,r.a.createElement("div",{className:"widget-subheading"},"There are no emails available")))))}},{key:"renderBlockList",value:function(){var e=this.props.blockList;return e&&0!==e.length?r.a.createElement(F.a,{className:"-striped -highlight",columns:[{columns:[{Header:"Account ID",accessor:"account_id"}]}],data:e,defaultPageSize:10}):r.a.createElement("div",{className:"dropdown-menu-header"},r.a.createElement("div",{className:"dropdown-menu-header-inner bg-primary"},r.a.createElement("div",{className:"menu-header-content"},r.a.createElement("div",null,r.a.createElement("div",{className:"widget-subheading"},"There are no black list available")))))}},{key:"renderAuth",value:function(){var e=this.props.userInfo;return r.a.createElement(Y.a,{flush:!0},r.a.createElement("div",null,r.a.createElement($.a,{key:e.auth.hasPassword},r.a.createElement("b",{className:"text-dark"},"Has Password: "),!0===e.auth.hasPassword?"true":"false"),r.a.createElement($.a,{key:e.auth.passwordType},r.a.createElement("b",{className:"text-dark"},"Type: "),e.auth.passwordType),r.a.createElement($.a,{key:e.auth.status},r.a.createElement("b",{className:"text-dark"},"Status: "),e.auth.status)))}},{key:"componentDidMount",value:function(){this.props.fetchApllicationsByAccount({accountID:this.props.userInfo.accountID})}},{key:"renderTable",value:function(){var e=this.props,a=e.pending,t=e.error,n=e.applications;return a?r.a.createElement("div",{className:"text-center"},r.a.createElement(y.a,{type:"ball-scale"})):t?r.a.createElement("div",{className:"widget-content"},r.a.createElement("div",{className:"widget-content-wrapper"},r.a.createElement("div",{className:"widget-content-right ml-0 mr-3"},r.a.createElement("div",{className:"widget-subheading"},t)))):0===n.length?r.a.createElement("div",{className:"widget-content"},r.a.createElement("div",{className:"widget-content-wrapper"},r.a.createElement("div",{className:"widget-content-right ml-0 mr-3"},r.a.createElement("div",{className:"widget-subheading"},"There are no applications")))):r.a.createElement(be.a,{applications:n,rows:5})}},{key:"render",value:function(){var e=this.props.userInfo,a=this.state,t=a.password,c=a.loading;return e?r.a.createElement(n.Fragment,null,r.a.createElement(b.a,{component:"div",transitionAppear:!0,transitionAppearTimeout:0,transitionEnter:!1,transitionLeave:!1,transitionName:"TabsAnimation"},r.a.createElement("div",null,r.a.createElement(B.a,null,r.a.createElement(U.a,{lg:"6",md:"12",xl:"3"},r.a.createElement(M.a,{className:"card-shadow-primary profile-responsive card-border mb-3"},r.a.createElement(z.a,null,"Profile info"),r.a.createElement("div",{className:"dropdown-menu-header"},r.a.createElement("div",{className:"dropdown-menu-header-inner bg-info"},r.a.createElement("div",{className:"menu-header-image opacity-2",style:{backgroundImage:"url("+X.a+")"}}),r.a.createElement("div",{className:"menu-header-content btn-pane-right"},r.a.createElement("div",{className:"avatar-icon-wrapper mr-2 avatar-icon-xl"},r.a.createElement("div",{className:"avatar-icon rounded"},r.a.createElement("img",{alt:"Avatar 5",src:e&&void 0!==e.avatar?"https://wssdev.nexustls.com/files/file/".concat(e.avatar,"/medium"):x.a}))),r.a.createElement("div",null,r.a.createElement("h5",{className:"menu-header-title"},e.firstName," ",e.lastName))))),r.a.createElement(L.a,{className:"p-0"},r.a.createElement(Y.a,{flush:!0},r.a.createElement($.a,{key:e.firstName},r.a.createElement("b",{className:"text-dark"},"First Name: "),e.firstName),r.a.createElement($.a,{key:e.lastName},r.a.createElement("b",{className:"text-dark"},"Last Name: "),e.lastName),r.a.createElement($.a,{key:e.username},r.a.createElement("b",{className:"text-dark"},"User Name: "),e.username),r.a.createElement($.a,{key:e.accountID},r.a.createElement("b",{className:"text-dark"},"Account ID: "),e.accountID))))),r.a.createElement(U.a,{lg:"6",md:"12",xl:"3"},r.a.createElement(M.a,{className:"card-shadow-primary card-border mb-3"},r.a.createElement(z.a,null," User Auth"),r.a.createElement(L.a,{className:"p-0"},this.renderAuth()),r.a.createElement(ee.a,{className:"text-center d-block"},r.a.createElement(R.a,{className:"mb-2",onChange:this.handleChangePassword,placeholder:"password",value:t}),r.a.createElement(P.a,{className:"mr-2 border-0 btn-transition",color:"primary",onClick:this.handleGeneratePassword,outline:!0},"Generate Password"),r.a.createElement(W.a,{className:"btn btn-shadow btn-pill btn-focus","data-style":Q.ZOOM_IN,disabled:!t,loading:c,onClick:this.handleSetPassword},"Change password")))),r.a.createElement(U.a,{lg:"6",md:"12",xl:"3"},r.a.createElement(M.a,{className:"card-shadow-primary card-border mb-3"},r.a.createElement(z.a,null," User Phones"),r.a.createElement(L.a,{className:"p-0"},this.renderPhones()))),r.a.createElement(U.a,{lg:"6",md:"12",xl:"3"},r.a.createElement(M.a,{className:"card-shadow-primary card-border mb-3"},r.a.createElement(z.a,null," User Emails"),r.a.createElement(L.a,{className:"p-0"},this.renderEmails()))),r.a.createElement(U.a,{lg:"6",md:"12",xl:"9"},r.a.createElement(M.a,{className:"card-shadow-primary card-border mb-3"},r.a.createElement(z.a,null," Session Table"),r.a.createElement(L.a,{className:"p-0"},r.a.createElement(ge,{accountID:e.accountID})))),r.a.createElement(U.a,{lg:"6",md:"12",xl:"3"},r.a.createElement(M.a,{className:"card-shadow-primary card-border mb-3"},r.a.createElement(z.a,null," Black List"),r.a.createElement(L.a,{className:"p-0"},this.renderBlockList()))),r.a.createElement(U.a,{lg:"6",md:"12",xl:"9"},r.a.createElement(M.a,{className:"card-shadow-primary card-border mb-3"},r.a.createElement(z.a,null," Application Table"),r.a.createElement(L.a,{className:"p-0"},this.renderTable()))))))):r.a.createElement(fe.a,null)}}]),t}(n.Component),Ne=Object(v.b)(function(e){return{blockList:e.session.blockList,applications:e.user.applications,pending:e.user.pendingApplication,error:e.user.errorApplication}},function(e){return{fetchApllicationsByAccount:function(a){return e(Object(k.a)(a))}}})(ve);function we(e){return{type:ce.A,result:e}}function ye(e){return function(a){a({type:ce.z}),Z.d.getPresenceInfo(e).then(function(e){void 0!==e.data.varStatus?a(we(e.data)):void 0!==e.data.error&&a(we(e.data.error))}).catch(function(e){a(function(e){return{type:ce.y,error:e}}(""))})}}var ke=function(e){Object(E.a)(t,e);var a=Object(g.a)(t);function t(){return Object(u.a)(this,t),a.apply(this,arguments)}return Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.user;e?this.props.fetchPresenceInfo({accountID:e.accountID}):this.props.history.push("/user-manager/users")}},{key:"render",value:function(){return this.props.user?r.a.createElement(n.Fragment,null,r.a.createElement(N.a,{heading:"",icon:"pe-7s-science icon-gradient bg-happy-itmeo",subheading:""}),r.a.createElement(Ne,{userInfo:this.props.user})):r.a.createElement("div",null)}}]),t}(r.a.Component),Ie=Object(c.f)(ke),Ce=Object(v.b)(function(e,a){var t=a.match.params.accountID;return{user:e.user.users.find(function(e){return e.accountID===t})}},function(e){return{fetchApllicationsByAccount:function(a){return e(Object(k.a)(a))},fetchPresenceInfo:function(a){return e(ye(a))}}})(Ie),De=t(302),Oe=t(75),xe=t(293),Se=t(294),je=function(e){Object(E.a)(t,e);var a=Object(g.a)(t);function t(){return Object(u.a)(this,t),a.apply(this,arguments)}return Object(p.a)(t,[{key:"render",value:function(){var e=this.props.application;return r.a.createElement(n.Fragment,null,r.a.createElement(U.a,{md:"6"},r.a.createElement(M.a,{className:"main-card mb-3"},r.a.createElement(z.a,{className:"card-header-tab"},r.a.createElement("div",{className:"card-header-title"},"Appplication Info")),r.a.createElement(L.a,null,r.a.createElement(Y.a,null,r.a.createElement($.a,null,r.a.createElement(xe.a,null,"First Name"),r.a.createElement(Se.a,null,e.firstName)),r.a.createElement($.a,null,r.a.createElement(xe.a,null,"Last Name"),r.a.createElement(Se.a,null,e.lastName)),r.a.createElement($.a,null,r.a.createElement(xe.a,null,"Application status"),r.a.createElement(Se.a,null,e.status)),r.a.createElement($.a,null,r.a.createElement(xe.a,null,"Country Name"),r.a.createElement(Se.a,null,e.countryName)),r.a.createElement($.a,null,r.a.createElement(xe.a,null,"Country ISO Code"),r.a.createElement(Se.a,null,e.countryISOCode)),r.a.createElement($.a,null,r.a.createElement(xe.a,null,"Date Time"),r.a.createElement(Se.a,null,Object(ne.b)(e.createdAt))),r.a.createElement($.a,null,r.a.createElement(xe.a,null,"Application ID"),r.a.createElement(Se.a,null,e.ID)))))))}}]),t}(r.a.Component),Ae=t(295),Te=t(40),Pe=function(e){Object(E.a)(t,e);var a=Object(g.a)(t);function t(){return Object(u.a)(this,t),a.apply(this,arguments)}return Object(p.a)(t,[{key:"renderTable",value:function(){var e=this.props,a=e.documents,t=e.pending,n=e.error;if(t)return r.a.createElement("div",{className:"text-center"},r.a.createElement(y.a,{type:"ball-scale"}));if(n){if(!n.accountID)return r.a.createElement("div",{className:"dropdown-menu-header"},r.a.createElement("div",{className:"dropdown-menu-header-inner bg-primary"},r.a.createElement("div",{className:"menu-header-content"},r.a.createElement("div",{className:"widget-subheading"},n))));var c=n;return r.a.createElement(M.a,{className:"card-shadow-primary profile-responsive card-border mb-3"},r.a.createElement(z.a,null,"\u0417\u0430\u044f\u0432\u043a\u0430 \u0443\u0436\u0435 \u043e\u0442\u043a\u0440\u044b\u0442\u043e "),r.a.createElement("div",{className:"dropdown-menu-header"},r.a.createElement("div",{className:"dropdown-menu-header-inner bg-info"},r.a.createElement("div",{className:"menu-header-image opacity-2",style:{backgroundImage:"url("+X.a+")"}}),r.a.createElement("div",{className:"menu-header-content btn-pane-right"},r.a.createElement("div",{className:"avatar-icon-wrapper mr-2 avatar-icon-xl"},r.a.createElement("div",{className:"avatar-icon rounded"},r.a.createElement("img",{alt:"Avatar 5",src:void 0!==c.avatar?"https://wssdev.nexustls.com/files/file/".concat(c.avatar,"/medium"):x.a}))),r.a.createElement("div",null,r.a.createElement("h5",{className:"menu-header-title"},c.firstName," ",c.lastName))))),r.a.createElement(L.a,{className:"p-0"},r.a.createElement(Y.a,{flush:!0},r.a.createElement($.a,null,r.a.createElement("b",{className:"text-dark"},"First Name: "),c.firstName),r.a.createElement($.a,null,r.a.createElement("b",{className:"text-dark"},"Last Name: "),c.lastName),r.a.createElement($.a,null,r.a.createElement("b",{className:"text-dark"},"User Name: "),c.username),r.a.createElement($.a,null,r.a.createElement("b",{className:"text-dark"},"Account ID: "),c.accountID))))}return 0===a.length?r.a.createElement("div",{className:"dropdown-menu-header"},r.a.createElement("div",{className:"dropdown-menu-header-inner bg-primary"},r.a.createElement("div",{className:"menu-header-content"},r.a.createElement("div",{className:"widget-subheading"},"There are no documents")))):a.length>0?r.a.createElement(Ae.a,{bordered:!0,className:"mb-0"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Document Info"),r.a.createElement("th",null,"Image"))),a.map(function(e,a){return r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",{width:"50%"},r.a.createElement("b",{className:"text-dark"},"Status: "),Object(ne.c)(e.status),r.a.createElement("div",{className:"divider"}),r.a.createElement("b",{className:"text-dark"},"File name: "),e.fileInfo.originalName,r.a.createElement("div",{className:"divider"}),r.a.createElement("b",{className:"text-dark"},"Type name: "),e.documentType.typeName),r.a.createElement("td",{align:"center",height:"200px",width:"40%"},r.a.createElement(Te.RViewer,{imageUrls:"http://10.7.8.129:9004/document/".concat(e.ID),options:ce.Q},r.a.createElement(Te.RViewerTrigger,null,r.a.createElement("img",{alt:"",src:"http://10.7.8.129:9004/document/".concat(e.ID),style:{cursor:"pointer","max-width":"100%","max-height":"100%",verticalAlign:"middle"}}))))))})):void 0}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(U.a,{lg:"12",xl:"6"},r.a.createElement(M.a,{className:"main-card mb-3"},r.a.createElement(z.a,{className:"card-header-tab"},r.a.createElement("div",{className:"card-header-title"},"Documents")),r.a.createElement(L.a,null,this.renderTable()))))}}]),t}(r.a.Component),Be=t(361),Ue=function(e){Object(E.a)(t,e);var a=Object(g.a)(t);function t(){var e;return Object(u.a)(this,t),(e=a.call(this)).state={startProcedure:!1,page:0,pageSize:100},e.handleStartProcedure=e.handleStartProcedure.bind(Object(h.a)(e)),e.handleDoneProcedure=e.handleDoneProcedure.bind(Object(h.a)(e)),e.handleGetApplications=e.handleGetApplications.bind(Object(h.a)(e)),e}return Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.fetchDocuments,t=e.application;t?a({applicationID:t.ID}):this.props.history.goBack()}},{key:"handleStartProcedure",value:function(){this.setState({startProcedure:!0})}},{key:"handleDoneProcedure",value:function(){this.setState({startProcedure:!1})}},{key:"handleGetApplications",value:function(){var e=this,a=this.props.applications.filter(function(a){return a.ID!==e.props.application.ID});a.length>0&&this.props.history.push("/passport-manager/applications/".concat(a[0].ID))}},{key:"render",value:function(){var e=this.state.startProcedure,a=this.props,t=a.application,c=a.match,s=a.documents,l=a.errorDoc,i=a.pendingDoc;return e&&t?r.a.createElement(n.Fragment,null,r.a.createElement(b.a,{component:"div",transitionAppear:!0,transitionAppearTimeout:0,transitionEnter:!1,transitionLeave:!1,transitionName:"TabsAnimation"},r.a.createElement(Be.a,{accountID:t.accountID,applicationID:t.ID,backUrl:c.url,documents:s,handleDoneProcedure:this.handleDoneProcedure,handleGetApplications:this.handleGetApplications}))):t?r.a.createElement(n.Fragment,null,r.a.createElement(b.a,{component:"div",transitionAppear:!0,transitionAppearTimeout:0,transitionEnter:!1,transitionLeave:!1,transitionName:"TabsAnimation"},r.a.createElement(De.a,{fluid:!0},r.a.createElement(B.a,null,r.a.createElement(U.a,{md:"12"},r.a.createElement(M.a,{className:"main-card mb-3"},r.a.createElement(z.a,{className:"card-header-tab"},r.a.createElement("div",{className:"card-header-title"},r.a.createElement(P.a,{className:"border-0 btn-pill btn-wide btn-transition active",color:"alternate",disabled:0===s.length||"PENDING"!==t.status,onClick:this.handleStartProcedure,outline:!0},"Begin review")),r.a.createElement("div",{className:"btn-actions-pane-right"},"Status ","    ",r.a.createElement(P.a,{className:"mb-2 mr-2 btn-transition",color:"alternate",disabled:!0,outline:!0},t.status))),r.a.createElement(L.a,{className:"main-card mb-3"},r.a.createElement(B.a,null,r.a.createElement(je,{application:t}),r.a.createElement(Pe,{documents:s,error:l,pending:i}))))))))):r.a.createElement("div",null)}}]),t}(r.a.Component),Me=Object(c.f)(Ue),Le=Object(v.b)(function(e,a){var t=a.match.params.applicationID;return{pendingDoc:e.passport.pending,errorDoc:e.passport.error,users:e.user.users,pending:e.user.pending,error:e.user.error,documents:e.passport.documents,application:e.user.applications.find(function(e){return e.ID===t}),applications:e.user.applications}},function(e){return{fetchDocuments:function(a){return e(Object(Oe.d)(a))},fetchUsers:function(a){return e(Object(k.b)(a))},deleteApplication:function(a){return e(Object(Oe.a)(a))},fetchApplications:function(a){return e(Object(Oe.c)(a))}}})(Me);a.default=Object(c.f)(function(e){var a=e.match;return r.a.createElement(s.a,null,r.a.createElement(c.b,{component:V,exact:!0,path:"".concat(a.url,"/users")}),r.a.createElement(c.b,{component:Ce,exact:!0,path:"".concat(a.url,"/users/:accountID"),searchPassportManager:!1}),r.a.createElement(c.b,{component:Le,exact:!0,path:"/user-manager/users/applicaion/:applicationID"}))})}}]);
//# sourceMappingURL=5.db6cb3a1.chunk.js.map